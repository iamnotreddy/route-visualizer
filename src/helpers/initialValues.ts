import { bearing } from '@turf/turf';
import {
  FeatureCollection,
  GeoJsonProperties,
  Geometry,
  Position,
} from 'geojson';
import { ViewState } from 'react-map-gl';

import { RoutePoint, StravaRouteStream } from '@/helpers/types';
export const findRouteLineString = (coordinates: Position[]) => {
  return {
    type: 'FeatureCollection',
    features: [
      {
        type: 'Feature',
        geometry: {
          type: 'LineString',
          coordinates: coordinates,
        },
        properties: {},
      },
    ],
  } as FeatureCollection<Geometry, GeoJsonProperties>;
};

export const findInitialViewState = (coordinates: Position[]) => {
  const initialPoint = coordinates[0];
  const finalPoint = coordinates[coordinates.length - 1];

  return {
    latitude: initialPoint[1],
    longitude: initialPoint[0],
    zoom: 15,
    bearing: bearing(initialPoint, finalPoint),
    pitch: 45,
    padding: {
      top: 1,
      bottom: 1,
      left: 1,
      right: 1,
    },
  } as ViewState;
};

export const findInitialMetricPoint = (path: StravaRouteStream) => {
  return {
    heartRate: path.heartRate[0],
    distance: path.distance[0],
    time: path.time[0],
  } as RoutePoint;
};

export const splashRouteCoordinates: Position[] = [
  [33.775005, -118.401756],
  [33.775007, -118.401747],
  [33.774944, -118.401713],
  [33.77492, -118.401733],
  [33.77488, -118.401799],
  [33.774857, -118.401872],
  [33.774803, -118.402049],
  [33.774791, -118.402094],
  [33.774778, -118.402136],
  [33.774759, -118.402218],
  [33.77474, -118.402299],
  [33.774734, -118.402339],
  [33.774728, -118.40238],
  [33.774722, -118.402421],
  [33.774713, -118.40246],
  [33.774706, -118.402501],
  [33.7747, -118.4027],
  [33.774698, -118.402776],
  [33.774653, -118.403002],
  [33.77461, -118.403102],
  [33.77445, -118.403171],
  [33.774297, -118.403172],
  [33.774134, -118.403156],
  [33.774069, -118.403155],
  [33.773877, -118.403158],
  [33.773846, -118.403159],
  [33.773664, -118.403171],
  [33.77357, -118.403169],
  [33.773369, -118.403181],
  [33.773246, -118.403177],
  [33.773183, -118.40317],
  [33.773033, -118.40316],
  [33.772911, -118.403165],
  [33.772726, -118.403211],
  [33.772674, -118.40323],
  [33.772507, -118.403281],
  [33.772462, -118.403443],
  [33.772521, -118.403625],
  [33.772526, -118.403846],
  [33.772481, -118.404063],
  [33.772469, -118.404133],
  [33.772362, -118.404285],
  [33.772174, -118.404302],
  [33.772076, -118.404295],
  [33.771887, -118.40431],
  [33.771788, -118.404298],
  [33.771595, -118.404305],
  [33.771466, -118.404307],
  [33.771275, -118.404306],
  [33.771146, -118.404312],
  [33.77096, -118.404328],
  [33.770858, -118.404333],
  [33.770665, -118.404357],
  [33.770509, -118.40439],
  [33.770331, -118.404495],
  [33.770303, -118.404516],
  [33.770144, -118.404664],
  [33.770073, -118.404747],
  [33.769949, -118.404937],
  [33.769888, -118.405033],
  [33.769758, -118.405238],
  [33.769735, -118.405318],
  [33.769744, -118.405361],
  [33.769781, -118.405431],
  [33.769931, -118.405603],
  [33.769959, -118.405629],
  [33.77011, -118.405737],
  [33.770209, -118.405787],
  [33.770422, -118.405808],
  [33.77055, -118.405744],
  [33.770636, -118.405695],
  [33.770722, -118.405645],
  [33.770841, -118.405582],
  [33.7709, -118.405547],
  [33.771026, -118.405489],
  [33.771144, -118.405439],
  [33.771329, -118.405454],
  [33.77136, -118.40547],
  [33.771515, -118.405604],
  [33.771538, -118.405632],
  [33.771668, -118.405797],
  [33.771711, -118.405855],
  [33.771833, -118.405969],
  [33.771883, -118.406016],
  [33.772044, -118.406085],
  [33.772223, -118.40614],
  [33.772352, -118.406177],
  [33.772512, -118.40631],
  [33.772529, -118.406338],
  [33.772587, -118.406517],
  [33.77259, -118.406558],
  [33.772555, -118.406805],
  [33.772413, -118.406991],
  [33.772207, -118.407047],
  [33.772039, -118.406973],
  [33.771843, -118.406881],
  [33.771685, -118.406805],
  [33.771557, -118.40674],
  [33.771454, -118.406726],
  [33.771422, -118.406723],
  [33.771317, -118.406734],
  [33.77118, -118.406779],
  [33.770998, -118.406895],
  [33.770937, -118.40693],
  [33.77075, -118.407041],
  [33.770618, -118.407098],
  [33.770419, -118.407113],
  [33.770354, -118.407102],
  [33.770149, -118.407071],
  [33.769951, -118.407095],
  [33.769749, -118.407145],
  [33.769716, -118.407157],
  [33.769517, -118.407242],
  [33.769454, -118.407278],
  [33.769301, -118.407357],
  [33.769149, -118.407451],
  [33.768983, -118.407614],
  [33.768968, -118.407654],
  [33.768941, -118.407868],
  [33.768938, -118.407911],
  [33.768988, -118.408073],
  [33.769106, -118.408244],
  [33.769182, -118.408343],
  [33.769295, -118.408518],
  [33.769387, -118.408706],
  [33.769464, -118.408945],
  [33.769515, -118.409099],
  [33.769619, -118.409316],
  [33.769667, -118.409376],
  [33.769852, -118.40949],
  [33.770057, -118.40953],
  [33.770123, -118.409532],
  [33.770264, -118.409542],
  [33.770432, -118.409578],
  [33.770631, -118.409683],
  [33.770659, -118.409709],
  [33.770715, -118.409758],
  [33.770763, -118.409818],
  [33.770889, -118.409967],
  [33.771066, -118.410094],
  [33.771098, -118.410109],
  [33.771302, -118.410153],
  [33.771373, -118.410157],
  [33.771579, -118.410164],
  [33.771681, -118.410163],
  [33.771879, -118.410156],
  [33.771975, -118.410142],
  [33.772173, -118.410077],
  [33.772235, -118.410072],
  [33.772391, -118.410127],
  [33.772494, -118.410294],
  [33.772515, -118.410541],
  [33.772419, -118.410715],
  [33.772257, -118.410873],
  [33.772202, -118.410924],
  [33.772066, -118.411111],
  [33.772029, -118.411181],
  [33.771955, -118.411344],
  [33.77185, -118.411553],
  [33.771797, -118.411657],
  [33.771726, -118.411792],
  [33.771653, -118.411947],
  [33.771551, -118.412171],
  [33.771503, -118.412287],
  [33.771464, -118.412362],
  [33.77136, -118.412551],
  [33.771343, -118.412585],
  [33.771248, -118.412778],
  [33.771156, -118.412957],
  [33.771048, -118.413171],
  [33.771002, -118.413275],
  [33.770906, -118.4135],
  [33.770875, -118.413566],
  [33.770796, -118.413766],
  [33.770789, -118.413772],
  [33.770738, -118.413739],
  [33.77072, -118.413727],
  [33.770696, -118.41372],
  [33.770692, -118.413724],
  [33.77065, -118.413816],
  [33.770596, -118.414044],
  [33.770552, -118.414156],
  [33.770459, -118.414384],
  [33.770393, -118.414538],
  [33.770346, -118.414657],
  [33.770302, -118.414761],
  [33.770246, -118.414898],
  [33.770122, -118.415063],
  [33.769953, -118.415051],
  [33.769763, -118.414979],
  [33.769704, -118.414957],
  [33.769608, -118.41492],
  [33.769511, -118.414881],
  [33.76931, -118.41487],
  [33.769276, -118.414869],
  [33.769175, -118.414948],
  [33.769176, -118.415118],
  [33.769215, -118.415361],
  [33.769236, -118.415524],
  [33.769267, -118.415761],
  [33.769298, -118.416015],
  [33.769342, -118.416267],
  [33.769361, -118.416484],
  [33.769386, -118.416738],
  [33.769422, -118.416973],
  [33.769427, -118.417013],
  [33.769449, -118.417175],
  [33.769453, -118.417216],
  [33.769459, -118.417341],
  [33.769468, -118.417464],
  [33.769481, -118.417706],
  [33.769474, -118.417923],
  [33.76945, -118.418171],
  [33.769431, -118.418332],
  [33.769418, -118.418578],
  [33.769417, -118.418698],
  [33.769456, -118.418942],
  [33.769479, -118.419025],
  [33.769488, -118.419064],
  [33.769549, -118.419298],
  [33.769585, -118.419417],
  [33.769646, -118.419654],
  [33.769686, -118.419769],
  [33.769754, -118.419993],
  [33.769825, -118.420181],
  [33.769964, -118.420377],
  [33.770021, -118.420424],
  [33.770177, -118.420534],
  [33.770271, -118.420601],
  [33.77045, -118.420734],
  [33.770604, -118.420836],
  [33.770768, -118.420903],
  [33.77087, -118.420925],
  [33.771073, -118.42097],
  [33.771172, -118.42099],
  [33.771371, -118.42105],
  [33.771463, -118.421091],
  [33.771648, -118.421176],
  [33.771787, -118.421291],
  [33.771937, -118.421453],
  [33.772061, -118.421586],
  [33.772153, -118.421699],
  [33.772277, -118.421838],
  [33.772428, -118.422015],
  [33.772501, -118.422086],
  [33.772655, -118.422251],
  [33.772731, -118.422332],
  [33.77288, -118.422497],
  [33.772952, -118.422581],
  [33.773098, -118.422741],
  [33.773245, -118.422897],
  [33.7734, -118.423033],
  [33.773485, -118.42309],
  [33.773655, -118.423216],
  [33.773768, -118.423296],
  [33.77394, -118.423422],
  [33.774025, -118.423469],
  [33.774207, -118.423566],
  [33.774391, -118.423645],
  [33.774577, -118.423705],
  [33.774729, -118.423736],
  [33.774927, -118.423771],
  [33.775089, -118.423787],
  [33.775287, -118.423789],
  [33.775414, -118.423787],
  [33.775598, -118.423783],
  [33.775731, -118.423792],
  [33.775919, -118.423757],
  [33.776023, -118.423738],
  [33.776218, -118.423719],
  [33.776251, -118.423712],
  [33.776449, -118.423679],
  [33.776584, -118.423645],
  [33.776777, -118.423594],
  [33.776877, -118.423567],
  [33.77708, -118.423504],
  [33.77718, -118.423473],
  [33.777375, -118.423415],
  [33.77744, -118.423399],
  [33.777621, -118.423305],
  [33.777652, -118.423292],
  [33.777835, -118.42322],
  [33.777957, -118.423165],
  [33.778138, -118.423085],
  [33.778293, -118.423012],
  [33.778483, -118.422923],
  [33.778603, -118.422872],
  [33.778781, -118.422798],
  [33.778898, -118.422752],
  [33.779079, -118.422686],
  [33.779222, -118.422618],
  [33.779399, -118.422535],
  [33.779546, -118.422462],
  [33.77972, -118.422372],
  [33.779891, -118.422293],
  [33.780059, -118.422206],
  [33.780195, -118.422131],
  [33.780361, -118.422024],
  [33.780496, -118.421932],
  [33.78066, -118.421829],
  [33.780747, -118.421778],
  [33.780915, -118.421671],
  [33.781023, -118.421601],
  [33.781183, -118.421492],
  [33.781261, -118.421436],
  [33.781425, -118.421321],
  [33.781534, -118.421247],
  [33.781691, -118.421132],
  [33.781825, -118.421023],
  [33.781912, -118.420962],
  [33.782049, -118.42086],
  [33.782215, -118.420735],
  [33.782349, -118.420631],
  [33.782512, -118.420512],
  [33.782619, -118.420436],
  [33.78278, -118.420315],
  [33.782889, -118.420234],
  [33.783049, -118.420111],
  [33.783208, -118.419991],
  [33.783234, -118.419971],
  [33.783388, -118.419847],
  [33.783439, -118.419807],
  [33.783587, -118.419672],
  [33.783716, -118.419569],
  [33.783874, -118.419438],
  [33.783924, -118.419395],
  [33.784083, -118.419262],
  [33.784232, -118.41912],
  [33.784371, -118.418968],
  [33.784497, -118.418854],
  [33.784641, -118.418717],
  [33.78474, -118.418627],
  [33.784886, -118.418491],
  [33.785024, -118.418348],
  [33.785045, -118.418324],
  [33.785184, -118.418175],
  [33.785253, -118.418093],
  [33.785388, -118.417932],
  [33.785457, -118.417853],
  [33.785588, -118.417698],
  [33.785695, -118.417569],
  [33.785824, -118.417407],
  [33.785946, -118.417239],
  [33.785966, -118.417209],
  [33.786076, -118.41703],
  [33.786128, -118.416938],
  [33.786237, -118.416761],
  [33.786299, -118.416661],
  [33.786409, -118.416475],
  [33.786425, -118.416443],
  [33.786525, -118.416257],
  [33.786591, -118.41613],
  [33.786693, -118.415938],
  [33.786745, -118.415798],
  [33.786822, -118.415591],
  [33.786901, -118.415372],
  [33.786979, -118.415148],
  [33.787022, -118.415005],
  [33.787076, -118.414786],
  [33.787096, -118.414714],
  [33.787119, -118.414493],
  [33.787125, -118.414459],
  [33.787157, -118.414286],
  [33.787168, -118.414213],
  [33.787194, -118.413965],
  [33.787198, -118.413894],
  [33.78721, -118.413784],
  [33.787217, -118.413679],
  [33.787219, -118.413572],
  [33.787209, -118.41335],
  [33.787208, -118.413315],
  [33.787207, -118.413098],
  [33.787211, -118.412988],
  [33.787245, -118.412751],
  [33.787265, -118.412697],
  [33.787374, -118.412524],
  [33.787394, -118.412498],
  [33.787543, -118.412341],
  [33.787564, -118.412318],
  [33.787716, -118.412162],
  [33.787864, -118.411998],
  [33.787911, -118.411953],
  [33.78806, -118.41179],
  [33.788152, -118.411684],
  [33.788273, -118.411515],
  [33.788376, -118.411342],
  [33.788477, -118.411128],
  [33.788508, -118.411034],
  [33.788526, -118.410806],
  [33.788444, -118.410603],
  [33.788366, -118.410578],
  [33.78834, -118.410587],
  [33.788183, -118.410698],
  [33.788129, -118.410737],
  [33.787974, -118.410849],
  [33.787907, -118.410905],
  [33.787745, -118.411022],
  [33.78763, -118.411103],
  [33.787471, -118.411226],
  [33.787383, -118.411286],
  [33.787235, -118.411412],
  [33.787181, -118.411451],
  [33.787031, -118.411579],
  [33.787006, -118.411603],
  [33.786847, -118.411717],
  [33.786742, -118.411783],
  [33.786585, -118.411894],
  [33.786434, -118.412015],
  [33.78627, -118.41213],
  [33.786141, -118.412231],
  [33.785982, -118.41234],
  [33.785881, -118.412394],
  [33.785719, -118.412503],
  [33.78559, -118.41259],
  [33.785427, -118.412699],
  [33.785399, -118.412717],
  [33.785236, -118.412824],
  [33.785208, -118.412842],
  [33.785041, -118.412932],
  [33.784959, -118.412978],
  [33.784769, -118.413084],
  [33.784692, -118.413129],
  [33.784513, -118.41324],
  [33.784486, -118.413257],
  [33.784319, -118.413345],
  [33.784172, -118.413422],
  [33.783995, -118.413514],
  [33.783908, -118.413571],
  [33.783725, -118.413667],
  [33.783582, -118.413745],
  [33.783405, -118.413837],
  [33.783268, -118.413914],
  [33.783093, -118.414005],
  [33.782973, -118.414064],
  [33.782797, -118.414162],
  [33.782709, -118.414208],
  [33.782528, -118.414306],
  [33.782376, -118.414392],
  [33.782205, -118.414489],
  [33.782036, -118.414584],
  [33.781923, -118.414645],
  [33.781757, -118.414732],
  [33.781591, -118.414818],
  [33.78142, -118.414897],
  [33.781304, -118.414953],
  [33.781139, -118.415049],
  [33.781081, -118.415072],
  [33.780889, -118.415068],
  [33.780718, -118.415028],
  [33.780643, -118.414877],
  [33.780572, -118.414689],
  [33.780449, -118.414499],
  [33.780399, -118.414271],
  [33.780394, -118.414244],
  [33.780344, -118.414008],
  [33.780262, -118.413785],
  [33.780212, -118.413695],
  [33.780086, -118.413516],
  [33.779997, -118.413424],
  [33.779837, -118.413293],
  [33.779763, -118.413258],
  [33.779567, -118.41319],
  [33.779542, -118.413184],
  [33.779352, -118.413105],
  [33.779306, -118.413076],
  [33.77916, -118.412924],
  [33.77913, -118.412873],
  [33.779052, -118.412658],
  [33.779046, -118.412596],
  [33.779048, -118.412348],
  [33.779059, -118.412288],
  [33.77911, -118.412078],
  [33.779127, -118.412016],
  [33.779186, -118.411805],
  [33.779218, -118.411711],
  [33.779296, -118.411533],
  [33.779381, -118.411334],
  [33.779399, -118.411307],
  [33.779491, -118.411106],
  [33.779511, -118.411045],
  [33.779599, -118.410865],
  [33.779658, -118.410678],
  [33.779585, -118.410559],
  [33.779528, -118.410336],
  [33.779525, -118.410305],
  [33.779475, -118.410089],
  [33.77946, -118.410059],
  [33.77932, -118.409876],
  [33.779295, -118.409854],
  [33.779117, -118.409764],
  [33.779085, -118.409758],
  [33.778901, -118.409746],
  [33.778842, -118.409744],
  [33.778659, -118.409756],
  [33.778584, -118.409766],
  [33.778416, -118.409804],
  [33.778227, -118.409874],
  [33.77816, -118.40991],
  [33.777991, -118.410023],
  [33.777968, -118.410037],
  [33.777819, -118.410159],
  [33.777746, -118.410258],
  [33.777621, -118.410438],
  [33.777586, -118.41049],
  [33.777463, -118.410684],
  [33.77739, -118.410795],
  [33.777271, -118.410991],
  [33.777184, -118.411128],
  [33.777077, -118.411336],
  [33.777058, -118.411361],
  [33.776921, -118.411524],
  [33.776836, -118.411614],
  [33.776671, -118.411745],
  [33.776601, -118.411782],
  [33.776557, -118.411799],
  [33.776541, -118.411808],
].map((pos) => [pos[1], pos[0]]);
